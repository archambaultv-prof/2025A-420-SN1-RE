---
sidebar_position: 4
sidebar_label: Travail pratique 2
description: Ã‰noncÃ© du travail pratique 2
---

# ğŸš£ Travail pratique 2

- **PondÃ©ration** : 15%
- **Date de l'Ã©noncÃ©** : 1er dÃ©cembre 2025
- **Date de remise** : 12 dÃ©cembre 2025 23h59
- **Individuel**

## Contexte gÃ©nÃ©ral

Dans ce TP, vous simulerez lâ€™Ã©volution de la **tempÃ©rature moyenne dâ€™un lac** pendant 16 semaines (du printemps Ã  la fin de lâ€™Ã©tÃ©).  
Le travail suit 5 Ã©tapes :
1. coder la fonction du modÃ¨le naturel du lac ;
2. coder 3 fonctions rÃ©alistes de tempÃ©ratures de lâ€™air (A, B, C) retournant chacune une liste de 16 tempÃ©ratures, sans alÃ©atoire ;
3. calculer la tempÃ©rature finale du lac pour chaque scÃ©nario (en appliquant le modÃ¨le du lac + influence de lâ€™air) ;
4. Ã©crire une fonction qui ajoute du bruit mÃ©tÃ©o Ã  une liste de tempÃ©ratures (prend une liste, retourne une nouvelle liste) ;
5. analyser le tout avec pandas.

:::info

Les Ã©tapes doivent Ãªtre codÃ©es dans un fichier `tp_2.py`. Vous remettez ce fichier sur Omnivox Ã  la fin du TP.

:::

---

## Le modÃ¨le naturel du lac (explication)

Le lac possÃ¨de une **tempÃ©rature naturelle dâ€™Ã©quilibre** Ã  laquelle il tend progressivement.  
Formule dâ€™ajustement naturel :

$$
T_{t+1} = T_t + k \cdot (T_{\text{Ã©qui}} - T_t)
$$

ParamÃ¨tres typiques :
- $T_{\text{Ã©qui}} = 18Â°C$
- $k = 0{,}15$

Intuition :
> Si lâ€™eau est trop froide â†’ elle se rÃ©chauffe.  
> Si elle est trop chaude â†’ elle se refroidit.  
> La variation diminue quand le lac est proche de lâ€™Ã©quilibre.

---

## ParamÃ¨tres du TP

- TempÃ©rature initiale du lac : **Tâ‚€ = 8Â°C**
- TempÃ©rature dâ€™Ã©quilibre : **18Â°C**
- Constante dâ€™ajustement : **k = 0,15**
- DurÃ©e : **16 semaines**

---

## Ã‰tape 1 â€” Fonction du modÃ¨le naturel du lac

### Q1 â€” Fonction dâ€™ajustement naturel
Ã‰crire une fonction Python qui reÃ§oit :
- la tempÃ©rature actuelle,
- la tempÃ©rature dâ€™Ã©quilibre,
- la constante dâ€™ajustement,

et applique la formule ci-dessus et retourne la nouvelle tempÃ©rature.

---

## Ã‰tape 2 â€” Trois fonctions de tempÃ©ratures de lâ€™air (A, B, C)

### Q2 â€” Conception des fonctions A, B, C
Coder 3 fonctions (`scenario_a`, `scenario_b`, `scenario_c`) dÃ©terministes qui retournent chacune une liste de **16
tempÃ©ratures de lâ€™air** (semaines 1 Ã  16), sans alÃ©atoire, respectant la
saisonnalitÃ© :

- Fin du printemps (sem. 1â€“4) : 12Â°C Ã  20Â°C
- DÃ©but de lâ€™Ã©tÃ© (sem. 5â€“10) : 18Â°C Ã  28Â°C
- Fin de lâ€™Ã©tÃ© (sem. 11â€“16) : 20Â°C Ã  30Â°C

ScÃ©narios Ã  produire :
- ScÃ©nario A : tendance calme, variations faibles
- ScÃ©nario B : Ã©tÃ© anormalement chaud
- ScÃ©nario C : Ã©tÃ© instable mais dÃ©terministe (variations marquÃ©es, sans alÃ©atoire)

Les trois fonctions retournent des listes de 16 valeurs et sont clairement
nommÃ©es et dÃ©crites. Notez qu'elles ne prennent aucun paramÃ¨tre.

## Ã‰tape 3 â€” Calcul de la tempÃ©rature finale pour chaque scÃ©nario

### Q3 â€” Fonction d'ajustement avec l'air
Ã‰crire une fonction qui calcule la tempÃ©rature finale du lac en combinant l'ajustement naturel et l'influence de l'air.

La fonction reÃ§oit :
- la tempÃ©rature actuelle du lac ($T_t$),
- la tempÃ©rature d'Ã©quilibre ($T_{\text{Ã©qui}}$),
- la constante d'ajustement naturel ($k$),
- la tempÃ©rature de l'air ($Air_t$),
- le coefficient d'influence mÃ©tÃ©o ($\alpha$, par exemple 0,3).

Elle applique les Ã©tapes suivantes :
1. Calculer l'ajustement naturel $T_{\text{nat}}$ avec la fonction de Q1.
2. Appliquer l'influence de l'air :
   $T_{\text{final}} = T_{\text{nat}} + \alpha \cdot (Air_t - T_{\text{nat}})$
3. Retourner $T_{\text{final}}$.


### Q4 â€” Fonction de simulation sur 16 semaines

Ã‰crire une fonction qui simule l'Ã©volution du lac sur 16 semaines.

La fonction reÃ§oit :
- une liste de 16 tempÃ©ratures de l'air (issues d'un scÃ©nario),
- la tempÃ©rature initiale du lac ($T_0$, par dÃ©faut 8Â°C),
- la tempÃ©rature d'Ã©quilibre ($T_{\text{Ã©qui}}$, par dÃ©faut 18Â°C),
- la constante d'ajustement ($k$, par dÃ©faut 0,15),
- le coefficient d'influence mÃ©tÃ©o ($\alpha$, par dÃ©faut 0,3).

Elle retourne une **liste de listes** oÃ¹ chaque sous-liste contient :
- semaine (1 Ã  16),
- tempÃ©rature initiale de la semaine ($T_t$),
- tempÃ©rature finale de la semaine ($T_{\text{final}_t}$).

Algorithme :
- Partir de $T_0$.
- Pour chaque tempÃ©rature t dans la liste des tempÃ©ratures :
  1. Enregistrer $T_t$.
  2. Appliquer la fonction de Q3 pour obtenir $T_{\text{final}_t}$.
  3. Ajouter [t, $T_t$, $T_{\text{final}_t}$] Ã  la liste de rÃ©sultats.
  4. Mettre Ã  jour : $T_{t+1} = T_{\text{final}_t}$.
- Retourner la liste de listes.

Appeler cette fonction pour chacun des scÃ©narios A, B, C afin d'obtenir trois listes de listes distinctes.

---

## Ã‰tape 4 â€” Fonction d'ajout de bruit mÃ©tÃ©o

### Q5 - Ajout de bruit mÃ©tÃ©o

Ã‰crire une fonction qui prend une liste de tempÃ©ratures (dâ€™un scÃ©nario) et
retourne une **nouvelle liste** oÃ¹ un bruit mÃ©tÃ©o est ajoutÃ© (ex.: Â±1Â°C ou une
petite variation systÃ©matique).  
Appliquer cette fonction pour obtenir des versions Â« avec bruit Â» de vos scÃ©narios (Aâ€™, Bâ€™, Câ€™). Utiliser
la fonction de simulation de lâ€™Ã©tape 3 pour obtenir les rÃ©sultats correspondants.

---

## Ã‰tape 5 â€” Analyse avec pandas

### Q6 â€” CrÃ©ation du DataFrame

CrÃ©er un DataFrame contenant toutes les simulations (scÃ©narios A, B, C et leurs versions avec bruit).
Ce DataFrame doit avoir les quatres colonnes suivantes :
- semaine (valeurs allant de 1 Ã  16)
- scÃ©nario (valeurs possibles : A, B, C, A_bruit, B_bruit, C_bruit)
- tempÃ©rature initiale du lac
- tempÃ©rature finale du lac

C'est-Ã -dire, chaque ligne du DataFrame correspond Ã  une semaine dâ€™un scÃ©nario
donnÃ©. Il faut donc concatÃ©ner les rÃ©sultats des 6 simulations "verticalement".

**Sauvegarder ce DataFrame dans un fichier CSV nommÃ© `tp_2_results.csv`.**

### Q7 â€” Filtrage des donnÃ©es
Avec pandas :
1. afficher les lignes du scÃ©nario A ;
2. afficher les semaines oÃ¹ la tempÃ©rature finale dÃ©passe **22Â°C** ;


### Q8 â€” Statistiques
Avec `groupby` :
- calculer la **tempÃ©rature finale moyenne** par scÃ©nario ;
- calculer lâ€™**Ã©cart-type** des tempÃ©ratures finales ;

Votre code doit afficher de maniÃ¨re claire les rÃ©ponses aux questions suivantes :
  - quel scÃ©nario rend le lac le plus chaud Ã  la fin ?
  - lequel est le plus variable ?
  - quelle est la tempÃ©rature finale moyenne sur tous les scÃ©narios ?

---

## Partie Bonus â€” Visualisations structurÃ©es

:::info

Cette partie bonus permet d'obtenir des points pour l'examen pratique.

:::

Produire trois graphiques :
1. TempÃ©ratures de lâ€™air (courbes des scÃ©narios A, B, C et Aâ€™, Bâ€™, Câ€™).
2. Ã‰volution temporelle par scÃ©nario (courbes A, B, C et Aâ€™, Bâ€™, Câ€™ â€” tempÃ©rature finale du lac, semaines 1 Ã  16).
3. La variation des tempÃ©ratures finales du lac d'une semaine Ã  l'autre (diffÃ©rence entre semaines consÃ©cutives) pour chaque scÃ©nario.

Chaque graphique contient :
- un titre ;
- des Ã©tiquettes dâ€™axes ;
- une lÃ©gende ;
- des couleurs distinctes.
